<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dashboard Brech√≥ - EcoGear</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    .brecho-header {
      background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
      color: white;
      padding: 2rem;
      border-radius: 16px;
      margin-bottom: 2rem;
    }

    .vintage-tools {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin: 2rem 0;
    }

    .authentication-panel {
      background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
      border-radius: 12px;
      padding: 2rem;
      border: 2px solid #f59e0b;
    }

    .quality-control-panel {
      background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%);
      border-radius: 12px;
      padding: 2rem;
      border: 2px solid #6366f1;
    }

    .vintage-pricing {
      background: #f8fafc;
      border-radius: 12px;
      padding: 1.5rem;
      margin: 1rem 0;
      border: 1px solid #e2e8f0;
    }

    .era-badge {
      display: inline-block;
      padding: 0.3rem 0.8rem;
      border-radius: 15px;
      font-size: 0.8rem;
      font-weight: bold;
      margin: 0.2rem;
    }

    .era-1950s { background: #fecaca; color: #991b1b; }
    .era-1960s { background: #fed7aa; color: #9a3412; }
    .era-1970s { background: #fef3c7; color: #92400e; }
    .era-1980s { background: #d1fae5; color: #065f46; }
    .era-1990s { background: #dbeafe; color: #1e40af; }
    .era-2000s { background: #f3e8ff; color: #7c3aed; }

    .condition-meter {
      width: 100%;
      height: 20px;
      background: #e5e7eb;
      border-radius: 10px;
      overflow: hidden;
      margin: 0.5rem 0;
    }

    .condition-fill {
      height: 100%;
      transition: width 0.5s ease;
    }

    .condition-excellent { background: #22c55e; }
    .condition-good { background: #fbbf24; }
    .condition-fair { background: #f59e0b; }
    .condition-poor { background: #ef4444; }
  </style>
</head>
<body>
<header class="topbar">
  <a class="brand" href="index.html">EcoGear</a>
  <nav>
    <a href="shop-grid.html">Loja</a>
    <a href="brecho-dashboard.html">Dashboard</a>
    <a href="brecho-quality.html">Controle de Qualidade</a>
    <a href="vintage-authentication.html">Autentica√ß√£o</a>
    <a href="vintage-pricing.html">Precifica√ß√£o Vintage</a>
  </nav>
  <div class="top-actions">
    <span style="background: #8b5cf6; color: white; padding: 0.3rem 0.8rem; border-radius: 20px; font-weight: bold;">BRECH√ì</span>
  </div>
</header>

<main class="container">
  <div class="brecho-header">
    <h1>üëò Dashboard do Brech√≥</h1>
    <p>Ferramentas especializadas para autentica√ß√£o, precifica√ß√£o e gest√£o de pe√ßas vintage</p>
  </div>

  <div class="vintage-tools">
    <div class="authentication-panel">
      <h3>üîç Sistema de Autentica√ß√£o</h3>
      <p>Funcionalidade exclusiva para brech√≥s</p>
      
      <div style="margin: 1.5rem 0;">
        <h4>√öltimas Autentica√ß√µes:</h4>
        <div style="background: white; padding: 1rem; border-radius: 8px; margin: 0.5rem 0;">
          <strong>Bolsa Chanel Vintage</strong>
          <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 0.5rem;">
            <span style="background: #dcfce7; color: #166534; padding: 0.2rem 0.6rem; border-radius: 12px; font-size: 0.8rem; font-weight: bold;">AUT√äNTICA</span>
            <span style="font-size: 0.9rem; color: #666;">Confian√ßa: 94%</span>
          </div>
        </div>
        <div style="background: white; padding: 1rem; border-radius: 8px; margin: 0.5rem 0;">
          <strong>Rel√≥gio Rolex Submariner</strong>
          <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 0.5rem;">
            <span style="background: #fef3c7; color: #92400e; padding: 0.2rem 0.6rem; border-radius: 12px; font-size: 0.8rem; font-weight: bold;">SUSPEITA</span>
            <span style="font-size: 0.9rem; color: #666;">Confian√ßa: 67%</span>
          </div>
        </div>
      </div>
      
      <button class="btn" onclick="window.location.href='vintage-authentication.html'">
        Nova Autentica√ß√£o
      </button>
    </div>

    <div class="quality-control-panel">
      <h3>‚öñÔ∏è Controle de Qualidade</h3>
      <p>Avalia√ß√£o detalhada do estado das pe√ßas</p>
      
      <div style="margin: 1.5rem 0;">
        <h4>Pe√ßas Avaliadas Hoje:</h4>
        <div style="background: white; padding: 1rem; border-radius: 8px; margin: 0.5rem 0;">
          <div style="display: flex; justify-content: space-between; align-items: center;">
            <strong>Vestido Vintage Anos 70</strong>
            <span class="era-badge era-1970s">1970s</span>
          </div>
          <div style="margin-top: 0.5rem;">
            <small>Condi√ß√£o:</small>
            <div class="condition-meter">
              <div class="condition-fill condition-excellent" style="width: 85%;"></div>
            </div>
            <small>Excelente (85%)</small>
          </div>
        </div>
      </div>
      
      <button class="btn" onclick="window.location.href='brecho-quality.html'">
        Avaliar Pe√ßas
      </button>
    </div>
  </div>

  <section class="card">
    <h3>üí∞ Precifica√ß√£o Inteligente Vintage</h3>
    <p>Sistema exclusivo que considera raridade, condi√ß√£o, marca e tend√™ncias hist√≥ricas</p>
    
    <div class="vintage-pricing">
      <form id="pricingForm">
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
          <label>Marca/Designer
            <input type="text" id="brand" placeholder="Ex: Chanel, Dior, YSL">
          </label>
          <label>D√©cada
            <select id="decade">
              <option>1950s</option>
              <option>1960s</option>
              <option>1970s</option>
              <option>1980s</option>
              <option>1990s</option>
              <option>2000s</option>
            </select>
          </label>
          <label>Raridade
            <select id="rarity">
              <option>Comum</option>
              <option>Raro</option>
              <option>Muito Raro</option>
              <option>Pe√ßa √önica</option>
            </select>
          </label>
          <label>Condi√ß√£o (%)
            <input type="range" id="condition" min="0" max="100" value="80">
            <span id="conditionValue">80%</span>
          </label>
        </div>
        <button class="btn" type="submit" style="margin-top: 1rem;">Calcular Pre√ßo Sugerido</button>
      </form>

      <div id="pricingResult" style="display: none; margin-top: 1.5rem; padding: 1rem; background: white; border-radius: 8px;">
        <h4>Pre√ßo Sugerido:</h4>
        <div style="font-size: 1.5rem; font-weight: bold; color: #8b5cf6; margin: 0.5rem 0;">
          R$ <span id="suggestedPrice">850,00</span>
        </div>
        <div style="font-size: 0.9rem; color: #666;">
          Baseado em: condi√ß√£o da pe√ßa, raridade hist√≥rica, tend√™ncias de mercado
        </div>
      </div>
    </div>
  </section>

  <section class="card">
    <h3>üìà Analytics Vintage</h3>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; text-align: center;">
      <div>
        <div style="font-size: 1.8rem; font-weight: bold; color: #8b5cf6;">R$ 12.847</div>
        <div style="color: #666;">Vendas Vintage</div>
      </div>
      <div>
        <div style="font-size: 1.8rem; font-weight: bold; color: #f59e0b;">23</div>
        <div style="color: #666;">Pe√ßas Autenticadas</div>
      </div>
      <div>
        <div style="font-size: 1.8rem; font-weight: bold; color: #22c55e;">89%</div>
        <div style="color: #666;">Taxa de Autenticidade</div>
      </div>
      <div>
        <div style="font-size: 1.8rem; font-weight: bold; color: #06b6d4;">1970s</div>
        <div style="color: #666;">D√©cada Mais Vendida</div>
      </div>
    </div>
  </section>
</main>

<script src="script.js"></script>
<script src="user-access-manager.js"></script>
<script>
// Verifica√ß√£o de acesso exclusivo para brech√≥s
if (!UserAccessManager.hasPermission('quality_control')) {
  document.body.innerHTML = `
    <header class="topbar">
      <a class="brand" href="index.html">EcoGear</a>
    </header>
    <main class="container">
      <div class="card" style="text-align: center; padding: 3rem;">
        <h2>üîí Acesso Restrito</h2>
        <p>Este dashboard √© exclusivo para contas do tipo <strong>Brech√≥</strong>.</p>
        <p>Inclui ferramentas de autentica√ß√£o vintage, controle de qualidade e precifica√ß√£o especializada.</p>
        <a href="index.html" class="btn" style="margin-top: 1rem;">Voltar ao In√≠cio</a>
      </div>
    </main>
  `;
}

// Atualizar valor da condi√ß√£o em tempo real
document.getElementById('condition').oninput = function() {
  document.getElementById('conditionValue').textContent = this.value + '%';
};

document.getElementById('pricingForm').onsubmit = function(e) {
  e.preventDefault();
  
  // Algoritmo de precifica√ß√£o simulado
  const brand = document.getElementById('brand').value || 'Marca Gen√©rica';
  const decade = document.getElementById('decade').value;
  const rarity = document.getElementById('rarity').value;
  const condition = parseInt(document.getElementById('condition').value);
  
  let basePrice = 100;
  
  // Multiplicadores por d√©cada
  const decadeMultipliers = {
    '1950s': 3.5, '1960s': 3.0, '1970s': 2.5,
    '1980s': 2.0, '1990s': 1.8, '2000s': 1.3
  };
  
  // Multiplicadores por raridade
  const rarityMultipliers = {
    'Comum': 1.0, 'Raro': 2.5, 'Muito Raro': 4.0, 'Pe√ßa √önica': 8.0
  };
  
  // Multiplicador por marca (simulado)
  const brandMultiplier = brand.toLowerCase().includes('chanel') ? 15 :
                         brand.toLowerCase().includes('dior') ? 12 :
                         brand.toLowerCase().includes('ysl') ? 10 : 2;
  
  const finalPrice = basePrice * 
                    decadeMultipliers[decade] * 
                    rarityMultipliers[rarity] * 
                    brandMultiplier * 
                    (condition / 100);
  
  document.getElementById('suggestedPrice').textContent = finalPrice.toFixed(2);
  document.getElementById('pricingResult').style.display = 'block';
};
</script>
</body>
</html>